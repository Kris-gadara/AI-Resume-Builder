/* ==========================================================================
   AI Resume Builder — Style Sheet
   Professional, responsive, card-based UI with an 8 px spacing grid.
   ========================================================================== */

/* ---- CSS Variables ---- */
:root {
    --primary:   #2563eb;
    --primary-h: #1d4ed8;
    --primary-l: #dbeafe;
    --success:   #10b981;
    --success-l: #d1fae5;
    --warning:   #f59e0b;
    --warning-l: #fef3c7;
    --error:     #ef4444;
    --error-l:   #fee2e2;
    --bg:        #f1f5f9;
    --card-bg:   #ffffff;
    --text:      #1e293b;
    --text-sec:  #64748b;
    --border:    #e2e8f0;
    --radius:    12px;
    --radius-sm: 8px;
    --shadow:    0 1px 3px rgba(0,0,0,.08), 0 1px 2px rgba(0,0,0,.06);
    --shadow-md: 0 4px 12px rgba(0,0,0,.08);
    --shadow-lg: 0 10px 30px rgba(0,0,0,.10);
    --transition: .25s ease;
    --font:      'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

/* ---- Reset ---- */
*,*::before,*::after { box-sizing:border-box; margin:0; padding:0; }
html { font-size:16px; scroll-behavior:smooth; }
body {
    font-family:var(--font);
    color:var(--text);
    background:var(--bg);
    line-height:1.6;
    min-height:100vh;
    display:flex;
    flex-direction:column;
}
a { color:var(--primary); text-decoration:none; }
a:hover { text-decoration:underline; }
img { max-width:100%; }

/* ---- Container ---- */
.container { max-width:1240px; margin:0 auto; padding:0 24px; width:100%; }

/* ===========================================================================
   HEADER
   =========================================================================== */
.app-header {
    background: var(--card-bg);
    border-bottom: 1px solid var(--border);
    position: sticky;
    top: 0;
    z-index: 100;
    backdrop-filter: blur(10px);
    background: rgba(255,255,255,.92);
}
.header-inner {
    display:flex; align-items:center; justify-content:space-between;
    height:64px;
}
.logo { display:flex; align-items:center; gap:12px; }
.logo-icon { font-size:28px; }
.logo h1 { font-size:20px; font-weight:800; line-height:1.2; }
.tagline { font-size:12px; color:var(--text-sec); font-weight:400; }

/* ===========================================================================
   BUTTONS
   =========================================================================== */
.btn {
    display:inline-flex; align-items:center; justify-content:center; gap:6px;
    font-family:var(--font); font-weight:600; font-size:14px;
    border:none; border-radius:var(--radius-sm); cursor:pointer;
    padding:10px 20px; transition:all var(--transition);
    white-space:nowrap;
}
.btn:hover { transform:translateY(-1px); }
.btn:active { transform:translateY(0); }
.btn:disabled { opacity:.55; cursor:not-allowed; transform:none; }

.btn-primary { background:var(--primary); color:#fff; box-shadow:0 2px 8px rgba(37,99,235,.35); }
.btn-primary:hover { background:var(--primary-h); }

.btn-secondary { background:var(--border); color:var(--text); }
.btn-secondary:hover { background:#cbd5e1; }

.btn-outline { background:transparent; border:1.5px solid var(--border); color:var(--text); }
.btn-outline:hover { border-color:var(--primary); color:var(--primary); }

.btn-ghost { background:transparent; color:var(--text-sec); }
.btn-ghost:hover { color:var(--primary); }

.btn-sm { font-size:12px; padding:6px 14px; }
.btn-lg { font-size:16px; padding:14px 28px; border-radius:var(--radius); }

.btn-download { background: linear-gradient(135deg, var(--primary), #7c3aed); color:#fff; box-shadow: 0 4px 14px rgba(37,99,235,.3); }
.btn-download:hover { box-shadow: 0 6px 20px rgba(37,99,235,.4); }

/* ===========================================================================
   CARDS
   =========================================================================== */
.card {
    background:var(--card-bg);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    padding:28px;
    transition: box-shadow var(--transition);
}
.card:hover { box-shadow:var(--shadow-md); }
.card-header {
    display:flex; justify-content:space-between; align-items:center;
    margin-bottom:24px; flex-wrap:wrap; gap:12px;
}
.card-header h2 { font-size:20px; font-weight:700; }
.header-btns { display:flex; gap:8px; }

/* ===========================================================================
   LAYOUT – Two-column (form left, results right)
   =========================================================================== */
.main-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 32px;
    padding-top: 32px;
    padding-bottom: 64px;
    align-items: start;
}

/* ===========================================================================
   FORM
   =========================================================================== */
.form-card { grid-column: 1; }

fieldset {
    border: none;
    margin-bottom: 28px;
}
legend {
    font-size: 15px;
    font-weight: 700;
    color: var(--primary);
    margin-bottom: 14px;
    padding-bottom: 6px;
    border-bottom: 2px solid var(--primary-l);
    width: 100%;
    display: block;
}

.field { margin-bottom: 14px; }
.field label {
    display:block; font-size:13px; font-weight:600;
    margin-bottom:4px; color:var(--text);
}
.req { color:var(--error); }
.field-hint { font-size:11px; color:var(--text-sec); display:block; margin-top:2px; }
.field-error { font-size:11px; color:var(--error); display:none; margin-top:2px; }
.field-error.visible { display:block; }

input, textarea, select {
    width:100%; font-family:var(--font); font-size:14px;
    padding:10px 14px; border:1.5px solid var(--border);
    border-radius:var(--radius-sm); transition:border var(--transition), box-shadow var(--transition);
    background:var(--card-bg); color:var(--text);
    outline:none;
}
input:focus, textarea:focus {
    border-color:var(--primary); box-shadow:0 0 0 3px rgba(37,99,235,.12);
}
input.invalid, textarea.invalid {
    border-color:var(--error); box-shadow:0 0 0 3px rgba(239,68,68,.12);
}
textarea { resize:vertical; }

.field-row { display:flex; gap:16px; flex-wrap:wrap; }
.two-col > .field { flex:1 1 calc(50% - 8px); min-width:200px; }
.three-col > .field { flex:1 1 calc(33.33% - 11px); min-width:180px; }

/* Dynamic entry cards */
.dynamic-entry {
    background: var(--bg);
    border-radius: var(--radius-sm);
    padding: 16px;
    margin-bottom: 12px;
    position: relative;
    border: 1px solid var(--border);
    animation: slideIn .3s ease;
}
.dynamic-entry .remove-btn {
    position:absolute; top:8px; right:8px;
    background:none; border:none; font-size:18px;
    cursor:pointer; color:var(--text-sec); line-height:1;
    padding:4px 8px; border-radius:4px;
}
.dynamic-entry .remove-btn:hover { color:var(--error); background:var(--error-l); }

.add-btn { margin-top:4px; }

.form-actions {
    display:flex; gap:12px; flex-wrap:wrap;
    padding-top:8px; border-top:1px solid var(--border);
    margin-top:8px;
}

/* ===========================================================================
   RESULTS SIDEBAR
   =========================================================================== */
.results-card {
    grid-column: 2;
    display:flex; flex-direction:column; gap:24px;
    position: sticky;
    top: 80px;
}

.hidden { display:none !important; }

/* ---- Score Ring ---- */
.score-card { text-align:center; }
.score-card h2 { margin-bottom:16px; }
.score-ring-wrapper { position:relative; width:130px; height:130px; margin:0 auto 12px; }
.score-ring { width:100%; height:100%; transform:rotate(-90deg); }
.ring-bg { fill:none; stroke:var(--border); stroke-width:8; }
.ring-fill { fill:none; stroke:var(--primary); stroke-width:8; stroke-linecap:round;
    transition: stroke-dashoffset 1.2s ease, stroke .4s ease; }
.score-value {
    position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
    font-size:32px; font-weight:800; color:var(--text);
}
.score-analysis { font-size:14px; color:var(--text-sec); margin-top:8px; }

/* Score colours */
.score-green .ring-fill { stroke:var(--success); }
.score-green .score-value { color:var(--success); }
.score-yellow .ring-fill { stroke:var(--warning); }
.score-yellow .score-value { color:var(--warning); }
.score-red .ring-fill   { stroke:var(--error); }
.score-red .score-value  { color:var(--error); }

/* ---- Result text ---- */
.result-text { font-size:14px; line-height:1.75; white-space:pre-wrap; }

/* ---- Keywords ---- */
.keyword-section { margin-bottom:16px; }
.keyword-section h4 { font-size:13px; font-weight:600; margin-bottom:8px; color:var(--text-sec); }
.badge-list { display:flex; flex-wrap:wrap; gap:6px; }
.badge {
    display:inline-block; font-size:12px; font-weight:600;
    padding:4px 12px; border-radius:20px;
}
.badge-green { background:var(--success-l); color:#065f46; }
.badge-red   { background:var(--error-l);   color:#991b1b; }

.recommendations { list-style:none; padding:0; }
.recommendations li {
    font-size:13px; padding:8px 12px; margin-bottom:6px;
    background:var(--primary-l); border-radius:var(--radius-sm);
    border-left: 3px solid var(--primary);
}

/* ---- Download Card ---- */
.download-card { text-align:center; background: linear-gradient(135deg, #eff6ff, #f5f3ff); }
.download-card h3 { margin-bottom:8px; }
.download-card p { color:var(--text-sec); margin-bottom:16px; }
.download-actions { display:flex; gap:12px; justify-content:center; flex-wrap:wrap; }

/* ===========================================================================
   LOADING
   =========================================================================== */
.loading-content { text-align:center; padding:48px 0; }
.loading-content h3 { margin-top:24px; font-size:18px; }
.loading-sub { color:var(--text-sec); font-size:14px; margin-top:8px; }

.spinner {
    width:48px; height:48px; margin:0 auto;
    border:4px solid var(--border);
    border-top-color:var(--primary);
    border-radius:50%;
    animation: spin .8s linear infinite;
}
@keyframes spin { to { transform:rotate(360deg); } }

.loading-steps { margin-top:28px; display:flex; flex-direction:column; gap:8px; align-items:center; }
.loading-steps .step {
    font-size:13px; color:var(--text-sec); transition:color .3s;
}
.loading-steps .step.active { color:var(--primary); font-weight:600; }
.loading-steps .step.done   { color:var(--success); }

/* ===========================================================================
   FOOTER
   =========================================================================== */
.app-footer {
    margin-top:auto;
    padding:24px 0;
    border-top:1px solid var(--border);
    text-align:center;
    font-size:13px; color:var(--text-sec);
}
.footer-inner { display:flex; flex-direction:column; gap:4px; }
.footer-links { display:flex; gap:8px; justify-content:center; }
.footer-links a { color:var(--text-sec); }
.footer-links a:hover { color:var(--primary); }

/* ===========================================================================
   TOAST NOTIFICATIONS
   =========================================================================== */
#toast-container {
    position:fixed; top:80px; right:24px; z-index:9999;
    display:flex; flex-direction:column; gap:8px; pointer-events:none;
}
.toast {
    pointer-events:auto;
    padding:14px 20px; border-radius:var(--radius-sm);
    font-size:14px; font-weight:500;
    box-shadow:var(--shadow-lg);
    animation: toastIn .35s ease;
    max-width:380px;
}
.toast-success { background:var(--success); color:#fff; }
.toast-error   { background:var(--error);   color:#fff; }
.toast-info    { background:var(--primary);  color:#fff; }

@keyframes toastIn {
    from { opacity:0; transform:translateX(40px); }
    to   { opacity:1; transform:translateX(0); }
}
@keyframes toastOut {
    to { opacity:0; transform:translateX(40px); }
}

/* ===========================================================================
   ANIMATIONS
   =========================================================================== */
@keyframes slideIn {
    from { opacity:0; transform:translateY(-8px); }
    to   { opacity:1; transform:translateY(0); }
}
@keyframes fadeIn {
    from { opacity:0; }
    to   { opacity:1; }
}
.fade-in { animation: fadeIn .5s ease; }

/* ===========================================================================
   RESPONSIVE
   =========================================================================== */
@media (max-width: 1024px) {
    .main-grid {
        grid-template-columns: 1fr;
    }
    .results-card {
        grid-column: 1;
        position: static;
    }
}
@media (max-width: 640px) {
    .container { padding:0 16px; }
    .card { padding:20px; }
    .header-inner { height:auto; padding:12px 0; flex-direction:column; gap:4px; }
    .logo h1 { font-size:18px; }
    .field-row { flex-direction:column; }
    .two-col > .field,
    .three-col > .field { flex:1 1 100%; min-width:0; }
    .form-actions { flex-direction:column; }
    .btn-lg { width:100%; }
    .download-actions { flex-direction:column; }
}
